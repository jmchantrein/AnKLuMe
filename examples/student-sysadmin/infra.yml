---
# infra.yml â€” Primary Source of Truth (PSOT)
#
# Sysadmin student: 2 domains (anklume + lab)
# Isolated lab environment for practicing system administration.
#
# IPs: anklume -> 10.100.0.x (admin), lab -> 10.120.0.x (semi-trusted)

project_name: student-sysadmin

global:
  addressing:
    base_octet: 10
    zone_base: 100
  default_os_image: "images:debian/13"
  default_connection: community.general.incus
  default_user: root

domains:
  anklume:
    trust_level: admin
    description: "Administration and orchestration"
    machines:
      sa-admin:
        description: "Ansible controller"
        type: lxc
        config:
          security.nesting: "true"
        roles:
          - base_system

  lab:
    trust_level: semi-trusted
    description: "Lab environment for sysadmin exercises"
    ephemeral: true
    machines:
      sa-web:
        description: "Web server for exercises"
        type: lxc
        roles:
          - base_system
      sa-db:
        description: "Database server for exercises"
        type: lxc
        roles:
          - base_system
