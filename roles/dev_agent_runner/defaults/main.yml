---
# DevAgentRunner | Defaults for Claude Code Agent Teams runner
#
# Extends dev_test_runner (Phase 12) with Claude Code CLI,
# Node.js, and Agent Teams configuration for autonomous
# development and testing inside an Incus-in-Incus sandbox.

# Node.js version (Claude Code requires >= 18)
dev_agent_runner_node_version: "22"

# Claude Code permissions mode inside the sandbox
dev_agent_runner_permissions_mode: "bypassPermissions"

# Git configuration for agent commits
dev_agent_runner_git_user: "anklume Agent"
dev_agent_runner_git_email: "agent@anklume.local"

# Project directory inside the runner container
dev_agent_runner_project_dir: "/root/anklume"

# Agent Teams feature flag
dev_agent_runner_enable_teams: true

# Audit hook (log every tool invocation)
dev_agent_runner_audit_hook: true

# Egress restriction (FINDING-10): only allow API endpoints
dev_agent_runner_restrict_egress: true
dev_agent_runner_allowed_domains:
  - "api.anthropic.com"
